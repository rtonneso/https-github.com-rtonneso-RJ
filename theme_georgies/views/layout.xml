<?xml version="1.0" encoding="utf-8" ?>
<odoo>

  <!-- WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH WEBSITE SALE SEARCH -->
  <!-- Remove button input append group div and keep just the button -->
  <template id="georgies_website_search_box" inherit_id="website.website_search_box" name="Georgies - Website Search Box">
    <!-- Change the button type to primary -->
    <xpath expr="//div[hasclass('input-group-append')]" position="replace">
      <button type="submit" class="btn btn-primary oe_search_button" aria-label="Search" title="Search"><i class="fa fa-search"/></button>
    </xpath>
  </template>



  <template id="georgies_website_sale_search_box" inherit_id="website_sale.website_sale_products_search_box" name="Georgies - Website Sale Search Box">
    <!-- Change the placeholder for the products search site-wide -->
    <xpath expr="//div[@role='search']" position="before">
      <t t-set="placeholder" t-value="'Search products...'"/>
    </xpath>
  </template>


  <!-- HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER -->
  <!-- Customize header  -->
  <template id="georgies_template_header_default" inherit_id="website.template_header_default" name="Georgies - Default Header">
    <!-- Change navbar classes so that it expands at medium point, instead of large-->
    <xpath expr="///header/nav" position="attributes">
      <attribute name="class" add="navbar-expand-md" remove="navbar-expand-lg shadow-sm" separator=" "/>
    </xpath>

    <!-- Add flex-column to collapse element to allow for addition of our search element and set alignment to right -->
    <xpath expr="//div[@id='top_menu_collapse']" position="attributes">
      <attribute name="class" add="flex-column align-items-stretch" separator=" "/>
    </xpath>
  </template>



  <!-- Adjust padding on header cart button (remove mx-lg-3) -->
  <template id="georgies_header_cart" inherit_id="website_sale.template_header_default" name="Georgies - Cart Nav Link">
    <xpath expr="//t[@t-set='_item_class']" position="attributes">
      <attribute name="t-value">'nav-item'</attribute>
    </xpath>
  </template>
  


  <!-- Adjust product search used below in the navbar search -->
  <template id="georgies_product_navbar_search" inherit_id="website_sale.website_sale_products_search_box" primary="True" name="Georgies - Product Navbar Search">
    <!-- Adjust input sizing to sm -->
    <xpath expr="//div[@role='search']" position="attributes">
      <attribute name="t-attf-class" add="input-group-sm" separator=" "/>
    </xpath>

    <!-- Adjust button sizing to sm -->
    <xpath expr="//button[@type='submit']" position="attributes">
      <attribute name="class" add="btn-sm" separator=" "/>
    </xpath>
  </template>



  <!-- Add search above header nav -->
  <template id="georgies_navbar_nav" inherit_id="website.navbar_nav" name="Georgies - Navbar Nav">
    <!-- Add Search bar above nav -->
    <xpath expr="//ul[@id='top_menu']" position="before">
      <ul class="navbar-nav mb-2 mt-2 mt-md-1 align-self-end georgies-navbar-search">
        <li class="nav-item">
          <t t-call="theme_georgies.georgies_product_navbar_search">
            <t t-set="_classes" t-value="'s_wsale_products_searchbar_input'"/>
          </t>
        </li>        
      </ul>
    </xpath>
    <!-- Center nav items vertically when expanded -->
    <xpath expr="//ul[@id='top_menu']" position="attributes">
      <attribute name="t-attf-class">nav navbar-nav o_menu_loading #{_nav_class} align-items-start align-items-md-center</attribute>
    </xpath>
  </template>



  <!-- Add oe_structure aread in the header for adding snippets like the announcement bar -->
  <template id="georgies_layout" inherit_id="website.layout" name="Georgies - Website Layout (Main Template)">
    <!-- Insert snippet area for announcement bar -->
    <xpath expr="//header//nav" position="replace">
      <div class="oe_structure"></div>
      <t>$0</t>
    </xpath>
  </template>




  <!-- FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER FOOTER -->
  <!-- Georgies Default Footer -->
  <template id="georgies_footer" inherit_id="website.footer_custom" name="Georgies - Default Footer">
    <xpath expr="//div[@id='footer']" position="replace">
        <div id="footer" class="oe_structure oe_structure_solo" t-ignore="true" t-if="not no_footer">
          
          <section class="pt32 pb32" data-name="Call to Action">
            <div class="container">
              <div class="georgies-call-to-action border border-current pb16" data-name="Call to Action">
                <div class="row align-items-center">
                  <div class="col-lg-8 pt16">
                    <div class="px-2 px-lg-3">
                      <h5><i>HEY, GEORGIES HAS A SUPER AWESOME NEWSLETTER!</i></h5>
                    </div>
                  </div>
                  <div class="col-lg-4 pt16">
                    <div class="px-2 px-lg-3 text-lg-right"><a class="btn btn-primary" href="#">SIGN UP FOR IT HERE &gt;</a></div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section class="pb32" data-name="Locations" contenteditable="false"/>

        </div>
    </xpath>
  </template>



  <!-- Georgies Footer Locations -->
  <template id="georgies_footer_locations" inherit_id="theme_georgies.georgies_footer" name="Georgies - Footer Locations">
    <xpath expr="//section[@data-name='Locations']" position="replace">
      <section class="pb32" data-name="Locations" contenteditable="false">
        <div class="container">
          <div class="row mb-n2">
            <!-- For each company in companies, lets create a listing -->
            <t t-foreach="request.env['res.company'].search([])" t-as="company">
              <div class="col-md-6">
                <div class="mb-2">
                  <div class="border border-current py-2 py-lg-3 px-2 px-lg-3">
                  
                    <div class="text-uppercase h6"><em><t t-esc="company.name"/></em></div>

                    <t t-if="company.street and company.city and company.state_id.code and company.zip">
                      <span><t t-esc="company.street"/>, <t t-esc="company.city"/> <t t-esc="company.state_id.code"/>  <t t-esc="company.zip"/></span><br/>
                    </t>

                    <t t-if="company.phone">
                      <a t-attf-href="tel:{{company.phone}}"><strong><t t-esc="company.phone"/></strong></a><br/>
                    </t>

                    <!-- Check if custom odoo.sh secondary phone is in model and has something in it -->
                    <t t-if="'x_studio_secondary_phone' in company"><t t-if="company.x_studio_secondary_phone">
                      <a t-attf-href="tel:{{company.x_studio_secondary_phone}}"><strong><t t-esc="company.x_studio_secondary_phone"/></strong></a><br/>
                    </t></t>

                    <!-- Check if custom odoo.sh fax field is in model and has something in it -->
                    <t t-if="'x_studio_fax' in company"><t t-if="company.x_studio_fax">
                      <span><strong>FAX <t t-esc="company.x_studio_fax"/></strong></span><br/>
                    </t></t>

                    <br/>

                    <t t-if="'x_studio_store_hours' in company"><t t-if="company.x_studio_store_hours">
                      <strong>Store Hours:</strong><br/>
                      <em class="text-space-pre"><t t-esc="company.x_studio_store_hours"/></em><br/>
                    </t></t>

                    <t t-if="'x_studio_office_hours' in company"><t t-if="company.x_studio_office_hours">
                      <strong>Office Hours:</strong><br/>
                      <em class="text-space-pre"><t t-esc="company.x_studio_office_hours"/></em><br/>
                    </t></t>

                    <div class="mt-2">
                      <t t-if="company.social_facebook">
                        <a t-att-href="company.social_facebook" target="_blank"><span class="fa fa-facebook-square fa-2x pr-1"></span></a>
                      </t>
                      <t t-if="company.social_instagram">
                        <a t-att-href="company.social_instagram" target="_blank"><span class="fa fa-instagram fa-2x pr-1"></span></a>
                      </t>
                    </div>
                    
                  </div>
                </div>
              </div>
            </t>
          </div>
        </div>
      </section>
    </xpath>
  </template>



  <!-- Scroll to Top Button, add variable before footer so our copyright line can check for it and adjust accordingly -->
  <template id="georgies_scroll_to_top_button" inherit_id="website.option_footer_scrolltop" name="Georgies - Scroll to Top Button">
    <xpath expr="//div[hasclass('o_footer_copyright')]" position="before">
        <t t-set="scroll_top_button_enabled" t-value="True"/>
    </xpath>
  </template>



  <!-- Georgies Footer Copyright -->
  <template id="georgies_footer_copyright" inherit_id="web.frontend_layout" name="Georgies - Footer Copyright">
    <xpath expr="//div[hasclass('o_footer_copyright')]" position="replace">
      
      <div class="o_footer_copyright py-2" data-name="Copyright" t-if="not no_copyright and not scroll_top_button_enabled">
        <div class="container">
          <div class="row">
            <div class="col">
              <div class="text-center"><span class="o_footer_copyright_name"><strong>&#169; 2022 Georgies &#8226; All Rights Reserved</strong></span></div>
            </div>
          </div>
        </div>
      </div>
      <div class="o_footer_copyright pb-2 pt-3" data-name="Copyright" t-if="not no_copyright and scroll_top_button_enabled">
        <div class="container">
          <div class="row">
            <div class="col">
              <div class="text-center"><span class="o_footer_copyright_name"><strong>&#169; 2022 Georgies &#8226; All Rights Reserved</strong></span></div>
            </div>
          </div>
        </div>
      </div>
    </xpath>
  </template>




  <!-- 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 404 -->
  <!-- Tweak the message seen as an administrator on a 404 page -->
  <template id="georgies_404_admin" inherit_id="website.page_404" name="Georgies - 404 Admin">
    <!-- Replace the alert with our nicer one -->
    <xpath expr="//div[hasclass('container')]" position="replace">
      <div class="container o_not_editable">
        <div class="alert alert-warning my-3 d-flex align-items-center font-weight-bold">
          <i class="fa fa-2x s_alert_icon fa-exclamation-circle"></i>
          <p>This page does not exist, but you can <a class="js_disable_on_click post_link" t-attf-href="/website/add/#{ path }#{ from_template and '?template=%s' % from_template }">create it</a> if you'd like a page to be here. You can also edit the content below to adjust the default 404 (page not found) page.</p>
        </div>
        <div class="text-center text-muted"></div>
      </div>
    </xpath>
    <!-- Set the margins to zero on this hr so that the page blow and the alert above look proper -->
    <xpath expr="//hr" position="replace">
      <hr class="my-0"/>
    </xpath>
  </template>
  
</odoo>