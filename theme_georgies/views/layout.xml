<?xml version="1.0" encoding="utf-8" ?>
<odoo>

  <!-- WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH WEBSITE SEARCH -->
  <!-- Remove button input append group div and keep just the button -->
  <template id="georgies_website_search_box" inherit_id="website.website_search_box">
    <!-- Change the placeholder for the products search site-wide -->
    <xpath expr="//t[@t-set='search_placeholder']" position="replace">
        <t t-set="search_placeholder">Search products...</t>
    </xpath>
    <xpath expr="//div[hasclass('input-group-append')]" position="replace">
      <button type="submit" class="btn btn-primary oe_search_button" aria-label="Search" title="Search"><i class="fa fa-search"/></button>
    </xpath>
  </template>

  <!-- HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER HEADER -->
  <!-- Customize header  -->
  <template id="template_header_default" inherit_id="website.template_header_default">
    <!-- Change navbar classes  -->
    <xpath expr="///header/nav" position="attributes">
      <attribute name="class" add="navbar-expand-md" remove="navbar-expand-lg shadow-sm" separator=" "/>
    </xpath>

    <!-- Add flex-column to collapse element to allow for addition of our search element and set alignment to right -->
    <xpath expr="//div[@id='top_menu_collapse']" position="attributes">
      <attribute name="class" add="flex-column align-items-stretch" separator=" "/>
    </xpath>
  </template>
  
  <!-- Adjust product search used below in the navbar search -->
  <template id="georgies_product_navbar_search" inherit_id="website_sale.website_sale_products_search_box" primary="True" name="Georgies Product Navbar Search">

    <!-- Adjust input sizing to sm -->
    <xpath expr="//div[@role='search']" position="attributes">
      <attribute name="t-attf-class" add="input-group-sm" separator=" "/>
    </xpath>

    <!-- Adjust button sizing to sm -->
    <xpath expr="//button[@type='submit']" position="attributes">
      <attribute name="class" add="btn-sm" separator=" "/>
    </xpath>
  </template>

  <!-- Add search above header nav -->
  <template id="navbar_nav" inherit_id="website.navbar_nav">
    <!-- Add Search bar above nav -->
    <xpath expr="//ul[@id='top_menu']" position="before">
      <ul class="navbar-nav mb-2 mt-1 align-self-end li-navbar-search">
        <li class="nav-item">
          <t t-call="theme_georgies.georgies_product_navbar_search">
            <t t-set="_classes" t-value="'s_wsale_products_searchbar_input'"/>
          </t>
        </li>        
      </ul>
    </xpath>
    <!-- Center nav items vertically -->
    <xpath expr="//ul[@id='top_menu']" position="attributes">
      <attribute name="class" add="align-items-center" separator=" "/>
    </xpath>
  </template>

  <!-- Adjust padding on header card button -->
  <template id="georgies_header_cart" inherit_id="template_header_default" name="Georgies Cart Nav Link">
    <xpath expr="//t[@t-set='_item_class']" position="attributes">
      <attribute name="t-value">'nav-item'</attribute>
    </xpath>
  </template>

  <!-- Add oe_structure aread in the header for adding snippets like the announcement bar -->
  <template id="layout" inherit_id="website.layout">
    <!-- Insert snippet area for announcement bar -->
    <xpath expr="//header//nav" position="replace">
      <div class="oe_structure"></div>
      <t>$0</t>
      <!-- <t t-call="theme_georgies.s_shop_mega_menu"/> -->
    </xpath>
  </template>
</odoo>