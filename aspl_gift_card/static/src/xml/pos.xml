<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="GiftCardButton">
        <div class="control-button">
             <i class="fa fa-credit-card-alt" aria-hidden="true"></i>
            Gift Card
        </div>
    </t>

    <t t-name="GiftCardListScreenWidget">
        <div class="orderlist-screen screen">
            <div class="screen-content">
                <section class="top-content">
                    <span class='button back'>
                        <i class='fa fa-angle-double-left'></i>
                        Cancel
                    </span>
                    <span class='button create'>
                        <i class="fa fa-plus" aria-hidden="true"></i>
                        Create
                    </span>
                    <span class="date-filter">
                        <input type="text" class="expiry_date_filter" placeholder="YYYY-MM-DD(Expire)" />
                        <input type="text" class="issue_date_filter" placeholder="YYYY-MM-DD(Issue)" />
                    </span>
                    <span class='button reload'>
                        <i class="fa fa-refresh" aria-hidden="true"></i>
                    </span>
                    <span class='searchbox'>
                        <input placeholder='Search Gift Card' style="width: 164px;" />
                        <span class='search-clear'></span>
                    </span>
                    <span class='searchbox'></span>
                </section>
                <section class="full-content">
                    <div class='window'>
                        <section class='subwindow'>
                            <div class='subwindow-container'>
                                <div class='subwindow-container-fix touch-scrollable scrollable-y giftcard-list-scroll' style="height:auto;max-height: 490px !important;">
                                    <div>
                                        <table class='giftcard-list'>
                                            <thead>
                                                <tr>
                                                    <th>Card No</th>
                                                    <th>Card Value</th>
                                                    <th>Customer</th>
                                                    <th>Issue Date</th>
                                                    <th>Expire Date</th>
                                                    <th>Edit</th>
                                                    <th>Recharge</th>
                                                    <th>Exchange</th>
                                                </tr>
                                            </thead>
                                            <tbody  class='giftcard-list-contents'>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div id="pagination">
                                         <div><button class="btn btn-danger" id="first"><i class="fa fa-angle-double-left fa-lg"></i></button></div>
                                         <div><button class="btn btn-danger" id="previous"></button></div>
                                         <div><span class="text" id="text"></span></div> 
                                         <div><button class="btn btn-danger" id="next"></button></div>
                                         <div><button class="btn btn-danger" id="last"><i class="fa fa-angle-double-right fa-lg"></i></button></div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </section>
            </div>
        </div>
    </t>

    <t t-name="GiftCardlistLine">
        <tr class='client-line' t-att-data-id='gift_card.id'>
            <td><t t-esc='gift_card.card_no' /></td>
            <td><t t-esc='widget.format_currency(gift_card.card_value)' /></td>
            <td><t t-esc='gift_card.customer_id[1]' /></td>
            <td><t t-esc='gift_card.issue_date or ""' /></td>
            <td><t t-esc='gift_card.expire_date or ""' /></td>
            <td>
                <span id="edit_giftcard" title="Edit" t-att-data-id='gift_card.id' style="cursor:pointer">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                </span>
            </td>
            <td>
                <span id="recharge_giftcard" title="Recharge" t-att-data-id='gift_card.id' style="cursor:pointer">
                    <i class="fa fa-credit-card " aria-hidden="true"></i>
                </span>
            </td>
            <td>
                <span id="exchange_giftcard" title="Exchange" t-att-data-id='gift_card.id' style="cursor:pointer">
                    <i class="fa fa-exchange" aria-hidden="true"></i>
                </span>
            </td>
        </tr>
    </t>

    <t t-name="CreateCardPopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card create_gift_card">
                <p class="title">Create Gift Card</p>
                <div>
                    <table border="0" align="center" id="table1">
                        <tr>
                            <td>Card No. </td>
                            <td>
                                <t t-if="widget.panding_card and widget.panding_card.giftcard_card_no">
                                    <input type="text" id="card_no" maxlength="10" t-att-value="widget.panding_card.giftcard_card_no"/>
                                </t>
                                <t t-if="!widget.panding_card || !widget.panding_card.giftcard_card_no">
                                    <input type="text" id="card_no" maxlength="10" />
                                </t>
                            </td>
                        </tr>
                        <tr>
                            <td>Customer </td>
                            <td>
                                <t t-if="widget.panding_card and widget.panding_card.giftcard_customer_name">
                                    <input type="text" id="select_customer" t-att-value="widget.panding_card.giftcard_customer_name"/>
                                </t>
                                <t t-if="!widget.panding_card || !widget.panding_card.giftcard_customer_name">
                                    <input type="text" id="select_customer" />
                                </t>
                            </td>
                        </tr>
                        <tr>
                            <td>Expire Date </td>
                            <td>
                                <t t-if="widget.panding_card and widget.panding_card.giftcard_expire_date">
                                    <input type="text" id="text_expire_date" class="datetime" placeholder="YYYY/MM/DD" t-att-value="widget.panding_card.giftcard_expire_date"/>
                                </t>
                                <t t-if="!widget.panding_card || !widget.panding_card.giftcard_expire_date">
                                    <input type="text" id="text_expire_date" class="datetime" placeholder="YYYY/MM/DD" />
                                </t>
                            </td>
                        </tr>
                        <tr id="amount_row">
                            <td>Card value </td>
                            <td>
                                <t t-if="widget.panding_card and widget.panding_card.giftcard_amount">
                                    <input type="text" id="text_amount" class="text_amount" t-att-value="widget.panding_card.giftcard_amount"/>
                                </t>
                                <t t-if="!widget.panding_card || !widget.panding_card.giftcard_amount">
                                    <input type="text" id="text_amount" class="text_amount" />
                                </t>
                                
                            </td>
                        </tr>
                        <tr>
                            <td>Card Type </td>
                            <td>
                                <t t-if="widget.panding_card and widget.panding_card.card_type">
                                    <select id='select_card_type'>
                                        <option value="">Select Card Type </option>
                                        <t t-foreach="widget.pos.card_type" t-as="card_type">
                                            <option t-att-value='card_type.id' t-att-selected="widget.panding_card.card_type ? ((card_type.id == widget.panding_card.card_type) ? true : undefined) : undefined">
                                                <t t-esc='card_type.name'/>
                                            </option>
                                        </t>
                                    </select>
                                </t>
                                <t t-if="!widget.panding_card || !widget.panding_card.card_type">
                                    <select id='select_card_type'>
                                        <option value="">Select Card Type </option>
                                        <t t-foreach="widget.pos.card_type" t-as="card_type">
                                            <option t-att-value="card_type.id"><t t-esc="card_type.name" /></option>
                                        </t>
                                    </select>
                                </t>
                                
                            </td>
                        </tr>
                        <tr>
                            <td>Paid </td>
                            <td >
                                <input type="checkbox" id="checkbox_paid" class="checkbox_paid" default="0" style="width:10% !important;"/>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm commonbutton">
                        Create
                    </div>
                    <div class="button cancel commonbutton">
                        Cancel 
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-extend="PaymentScreen-Paymentmethods">
        <t t-jquery="div.paymentmethods" t-operation="replace">
            <div class='paymentmethods'>
                <t t-foreach="widget.pos.payment_methods" t-as="payment_method">
                    <t t-if='widget.pos.config and payment_method.id != widget.pos.config.enable_journal_id[0]'>
                        <div class="button paymentmethod" t-att-data-id="payment_method.id">
                            <t t-esc="payment_method.name" />
                        </div>
                    </t>
                </t>
            </div>
        </t>
    </t>

    <t t-extend="PaymentScreenWidget">
        <t t-jquery="span.button.back" t-operation="replace">
            <span class='button back' id="card_back">
               <i class='fa fa-angle-double-left'></i> Back
            </span>
        </t>
            <t t-jquery="div.button.js_set_customer" t-operation="before">
               <t t-if='widget.pos.config.enable_journal_id and widget.pos.config.enable_gift_card'>
                    <div class="button js_gift_card">
                        <i class="fa fa-credit-card-alt" aria-hidden="true"></i>
                        Gift Card
                    </div>
                </t>
            </t>
        <t t-jquery="div.button.js_set_customer" t-operation="replace">
            <div class='button js_set_customer'>
                <i class='fa fa-user' />
                <span class='js_customer_name'>
                    <t t-if="widget.pos.get_client()">
                        <t t-esc="widget.pos.get_client().name" />
                    </t>
                    <t t-if="!widget.pos.get_client()">
                        Customer
                    </t>
                </span>
            </div>
        </t>
        <!--<t t-jquery="[t-if='widget.pos.config.iface_invoicing']" t-operation="replace">
            <t t-if='widget.pos.config.iface_invoicing'>
                <t t-if='widget.pos.get_order()'>
                    <div t-attf-class='button js_invoice #{ widget.pos.get_order().is_to_invoice() ? "highlight" : ""} ' id="card_invoice">
                        <i class='fa fa-file-text-o' /> Invoice
                    </div>
                </t>
            </t>
        </t>-->
    </t>
      
    <t t-name="RedeemCardPopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card redeem_gift_card">
                <p class="title">Gift Card</p>
                <div>
                    <table border="0" align="center" id="table_barcode">
                        <tr>
                            <td colspan="2"><input type="text" id="text_gift_card_no" placeholder="Scan Barcode" /></td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:center !important;"> <label id="lbl_set_customer"/> </td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align:center !important;"> <label id="lbl_card_no"/> </td>
                        </tr>
                        <tr id="in_balance" style="display:none">
                            <td></td>
                            <td> <label style="color:red">Insufficient Balance.</label> </td>
                        </tr>
                        <tr id="redeem_amount_row">
                            <td colspan="2"><input type="text" id="text_redeem_amount" placeholder="Enter Amount" /></td>
                        </tr>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm commonbutton">
                        Apply
                    </div>
                    <div class="button cancel commonbutton">
                        Cancel
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="RechargeCardPopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card recharge_gift_card">
                <p class="title"> Recharge Gift Card</p>
                <div>
                    <table border="0" align="center" id="table_barcode">
                        <t t-if="widget.pending_card and widget.pending_card.recharge_card_no">
                            <tr>
                                <td>Card No. </td>
                                <td>
                                    <t t-esc="widget.pending_card.recharge_card_no"/>
                                </td>
                            </tr>
                        </t>
                        <t t-if="!widget.pending_card or !widget.pending_card.recharge_card_no">
                            <tr>
                                <td>Card No. </td>
                                <td>
                                    <t t-esc="widget.card_no"/>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.pending_card and widget.pending_card.card_customer_id">
                            <td>Customer </td>
                            <td>
                                <select id='set_customers' disabled='true'>
                                    <t t-if="widget.pending_card.card_customer_id">
                                        <t t-foreach="widget.pos.partners" t-as="partner">
                                            <t t-if="widget.pending_card.card_customer_id ==  partner.id">
                                                <option selected="selected" t-att-value="partner.id"><t t-esc="partner.name" /></option>
                                            </t>
                                            <t t-if="widget.pending_card.card_customer_id !=  partner.id">
                                                <option t-att-value="partner.id"><t t-esc="partner.name" /></option>
                                            </t>
                                        </t>
                                    </t>
                                </select>
                            </td>
                        </t>
                        <t t-if="!widget.pending_card or !widget.pending_card.card_customer_id">
                            <tr>
                                <td>Customer </td>
                                <td>
                                    <select id='set_customers' disabled='true'>
                                        <t t-if="widget.customer_id">
                                            <t t-foreach="widget.pos.partners" t-as="partner">
                                                <t t-if="widget.customer_id[0] ==  partner.id">
                                                    <option selected="selected" t-att-value="partner.id"><t t-esc="partner.name" /></option>
                                                </t>
                                                <t t-if="widget.customer_id[0] !=  partner.id">
                                                    <option t-att-value="partner.id"><t t-esc="partner.name" /></option>
                                                </t>
                                            </t>
                                        </t>
                                    </select>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.pending_card and widget.pending_card.total_card_amount and widget.pending_card.recharge_card_amount">
                            <tr>
                                <td>Amount </td>
                                <td>
                                    <t t-esc="widget.format_currency(widget.pending_card.total_card_amount - widget.pending_card.recharge_card_amount)"/>
                                </td>
                            </tr>
                        </t>
                        <t t-if="!widget.pending_card or !widget.pending_card.total_card_amount or !widget.pending_card.recharge_card_amount">
                            <tr>
                                <td>Amount </td>
                                <td>
                                    <t t-esc="widget.format_currency(widget.card_value)"/>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.pending_card and widget.pending_card.recharge_card_amount">
                            <tr id="recharge_amount_row">
                                <td>Recharge Amount </td>
                                <td><input type="text" id="text_recharge_amount" t-att-value="widget.pending_card.recharge_card_amount"/></td>
                            </tr>
                        </t>
                        <t t-if="!widget.pending_card or !widget.pending_card.recharge_card_amount">
                            <tr id="recharge_amount_row">
                                <td>Recharge Amount </td>
                                <td><input type="text" id="text_recharge_amount" /></td>
                            </tr>
                        </t>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm commonbutton">
                        Recharge
                    </div>
                    <div class="button cancel commonbutton">
                        Cancel 
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="EditCardPopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card edit_gift_card">
                <p class="title"> Edit Gift Card</p>
                <div>
                    <table border="0" align="center" id="table_barcode">
                        <tr>
                            <td>Card No. </td>
                            <td>
                                <t t-esc="widget.card_no"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Expire Date </td>
                            <td>
                                <t t-esc="widget.expire_date"/>
                            </td>
                        </tr>
                        <tr>
                            <td>New Expire Date </td>
                            <td>
                                <input type="text" id="new_expire_date" class="date" placeholder="YYYY/MM/DD" />
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm commonbutton">
                        Update
                    </div>
                    <div class="button cancel commonbutton">
                        Cancel 
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="ExchangeCardPopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card exchange_gift_card">
                <p class="title"> Exchange Gift Card</p>
                <div>
                    <table border="0" align="center" id="table_barcode">
                        <tr>
                            <td>Current Card No. </td>
                            <td>
                                <t t-esc="widget.card_no"/>
                            </td> 
                        </tr>
                        <tr>
                            <td>New Card No. </td>
                            <td>
                                <input type="text" id="new_card_no" maxlength="10" style="width: 70% !important;"/>
<!--                                 <label id="new_card_no" for="new_card"/> -->
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm commonbutton">
                        Apply
                    </div>
                    <div class="button cancel commonbutton">
                        Cancel 
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="ConfirmationCardPayment">
        <div class="modal-dialog">
            <div class="popup popup-textinput gift_card exchange_gift_card" style="height:400px !important">
                <p class="title">Confirm</p>
                <div>
                    <table border="0" align="center" id="table1">
                        <t t-if="widget.recharge_card and widget.recharge_card.recharge_card_no">
                           <tr>
                                <td>Card No. </td>
                                <td>
                                    <label id="confirm_card_no"><t t-esc="widget.recharge_card.recharge_card_no"/></label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.options.giftcard_card_no">
                           <tr>
                                <td>Card No. </td>
                                <td>
                                    <label id="confirm_card_no"><t t-esc="widget.options.giftcard_card_no"/></label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.recharge_card and widget.recharge_card.customer_name">
                            <tr>
                                <td>Customer </td>
                                <td>
                                    <label id="confirm_select_customer"><t t-esc="widget.recharge_card.customer_name"/></label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.options.giftcard_customer_name">
                            <tr>
                                <td>Customer </td>
                                <td>
                                    <label id="confirm_select_customer"><t t-esc="widget.options.giftcard_customer_name"/></label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.options.giftcard_expire_date">
                            <tr>
                                <td>Expire Date </td>
                                <td>
                                    <label id="confirm_text_expire_date"><t t-esc="widget.options.giftcard_expire_date"/></label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.recharge_card and widget.recharge_card.recharge_card_amount and widget.recharge_card.total_card_amount">
                            <tr id="amount_row">
                                <td>Card value </td>
                                <td>
                                    <label id="confirm_text_amount"> <t t-esc="widget.format_currency(widget.recharge_card.total_card_amount - widget.recharge_card.recharge_card_amount)"/> </label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.recharge_card and widget.recharge_card.recharge_card_amount">
                            <tr id="amount_row">
                                <td>Recharge Amount </td>
                                <td>
                                    <label id="confirm_text_amount"> <t t-esc="widget.format_currency(widget.recharge_card.recharge_card_amount)"/> </label>
                                </td>
                            </tr>
                        </t>
                        <t t-if="widget.options.giftcard_amount">
                            <tr id="amount_row">
                                <td>Card value </td>
                                <td>
                                    <label id="confirm_text_amount"> <t t-esc="widget.options.giftcard_amount"/> </label>
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
                <div class="footer">
                    <div class="button confirm">
                        Continue
                    </div>
                    <div class="button cancel">
                        Cancel
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-extend="PaymentScreen-Paymentlines">
        <t t-jquery="td.col-name" t-operation="replace">
            <td class="col-name">
                <t t-esc="line.name"/>
                <t t-if="line.get_giftcard_line_code()">
                    (<t t-esc="line.get_giftcard_line_code()"/>)
                </t>
            </td>
        </t>
    </t>
    <t t-extend="OrderReceipt">
        <t t-jquery="div.before-footer" t-operation="inner">
            <br/>
            <hr/>
            <div class="pos-center-align" align="center"> Card Details </div>
            <hr/>
            <t t-if="order.get_giftcard().length &gt; 0">
                <div class="pos-center-align">
                    <table>
                        <t t-foreach="order.get_giftcard()" t-as="giftcard">
                            <tr>
                                <t t-if="giftcard['giftcard_customer_name']">
                                    <td>Customer:</td>
                                    <td class="pos-right-align">
                                        <t t-esc="giftcard['giftcard_customer_name']" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <td>Card No.:</td>
                                <td class="pos-right-align">
                                    <t t-esc="giftcard['giftcard_card_no']" />
                                </td>
                            </tr>
                            <tr>
                                <td>Expire Date:</td>
                                <td class="pos-right-align">
                                    <t t-esc="giftcard['giftcard_expire_date']" />
                                </td>
                            </tr>
                            <tr>
                                <td>Card Balance:</td>
                                <td class="pos-right-align">
                                    <t t-esc="widget.format_currency(giftcard['giftcard_amount'])" />
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </t>
            <t t-if="order.get_recharge_giftcard().length &gt; 0">
                <div class="pos-center-align">
                    <table>
                        <t t-foreach="order.get_recharge_giftcard()" t-as="recharge">
                            <tr>
                                <t t-if="recharge['customer_name']">
                                    <td>Customer:</td>
                                    <td class="pos-right-align">
                                        <t t-esc="recharge['customer_name']" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <td>Card No.:</td>
                                <td class="pos-right-align">
                                    <t t-esc="recharge['recharge_card_no']" />
                                </td>
                            </tr>
                            <tr>
                                <td>Total Card Balance:</td>
                                <td class="pos-right-align">
                                    <t t-esc="widget.format_currency(recharge['total_card_amount'])" />
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </t>

            <t t-if="order.get_redeem_giftcard().length &gt; 0">
                <div class="pos-center-align">
                    <table>
                        <t t-foreach="order.get_redeem_giftcard()" t-as="redeem">
                            <tr>
                                <t t-if="redeem['customer_name']">
                                    <td>Customer:</td>
                                    <td class="pos-right-align">
                                        <t t-esc="redeem['customer_name']" />
                                    </td>
                                </t>
                            </tr>
                            <tr>
                                <td>Card No.:</td>
                                <td class="pos-right-align">
                                    <t t-esc="redeem['redeem_card']" />
                                </td>
                            </tr>
                            <tr>
                                <td>Card Balance:</td>
                                <td class="pos-right-align">
                                    <t t-esc="widget.format_currency(redeem['redeem_remaining'])" />
                                </td>
                            </tr>
                        </t>
                    </table>
                </div>
            </t>
            <div class="pos-center-align" align="center">
                <img style="width:300px;height:100px;" id="test-barcode"/>
            </div>
        </t>
    </t>
    <t t-name="CustomXmlReceipt">
        <div class="pos-receipt">
            <t t-if="order.get_free_data()">
                <div class="pos-center-align"> Card Details </div>
                <hr/>
                <div class="pos-center-align" align="center">
                 <table align="center">
                     <tr>
                        <t t-if="order.get_free_data().giftcard_customer_name">
                             <td>Customer:</td>
                             <td class="pos-right-align">
                                 <t t-esc="order.get_free_data().giftcard_customer_name" />
                             </td>
                        </t>
                     </tr>
                     <tr>
                         <td>Card No.:</td>
                         <td class="pos-right-align">
                             <t t-esc="order.get_free_data().giftcard_card_no" />
                         </td>
                     </tr>
                     <tr>
                         <td>Card Amount:</td>
                         <td class="pos-right-align">
                             <t t-esc="widget.format_currency(order.get_free_data().giftcard_amount)" />
                         </td>
                     </tr>
                     <tr>
                         <td>Expire Date:</td>
                         <td class="pos-right-align">
                             <t t-esc="order.get_free_data().giftcard_expire_date" />
                         </td>
                     </tr>
                 </table>
                </div>
                <br/>
                <div class="pos-center-align" align="center">
                    <img style="width:300px;height:100px;" t-att-src='get_barcode_image' alt="Logo"/>
                </div>
            </t>
            <t t-if="!order.get_free_data()">
                <t t-if='receipt.company.logo'>
                    <img class="pos-receipt-logo" t-att-src='receipt.company.logo' alt="Logo"/>
                    <br/>
                </t>
                <t t-if='!receipt.company.logo'>
                    <h2 class="pos-receipt-center-align">
                        <t t-esc='receipt.company.name' />
                    </h2>
                    <br/>
                </t>
                <div class="pos-receipt-contact">
                    <t t-if='receipt.company.contact_address'>
                        <div><t t-esc='receipt.company.contact_address' /></div>
                    </t>
                    <t t-if='receipt.company.phone'>
                        <div>Tel:<t t-esc='receipt.company.phone' /></div>
                    </t>
                    <t t-if='receipt.company.vat'>
                        <div>VAT:<t t-esc='receipt.company.vat' /></div>
                    </t>
                    <t t-if='receipt.company.email'>
                        <div><t t-esc='receipt.company.email' /></div>
                    </t>
                    <t t-if='receipt.company.website'>
                        <div><t t-esc='receipt.company.website' /></div>
                    </t>
                    <t t-if='receipt.header_html'>
                        <t t-raw='receipt.header_html' />
                    </t>
                    <t t-if='!receipt.header_html and receipt.header'>
                        <div><t t-esc='receipt.header' /></div>
                    </t>
                    <t t-if='receipt.cashier'>
                        <div class='cashier'>
                            <div>--------------------------------</div>
                            <div>Served by <t t-esc='receipt.cashier' /></div>
                        </div>
                    </t>
                </div>
                <br /><br />

                <!-- Orderlines -->

                <div class='orderlines'>
                    <t t-foreach='receipt.orderlines' t-as='line'>
                        <t t-set='simple' t-value='(line.discount === 0 and line.unit_name === "Units" and line.quantity === 1 and !discount_to_show and !(line.display_discount_policy == "without_discount" &amp;&amp; line.price != line.price_lst))' />
                        <t t-if='simple'>
                            <div>
                                <t t-esc='line.product_name_wrapped[0]' />
                                <span t-esc='widget.format_currency_no_symbol(line.price_display)' class="price_display pos-receipt-right-align"/>
                            </div>
                            <t t-call="OrderReceiptWrappedProductNameLines"/>
                        </t>
                        <t t-if='!simple'>
                            <div t-esc='line.product_name_wrapped[0]'/>
                            <t t-call="OrderReceiptWrappedProductNameLines"/>
                            <t t-if="line.display_discount_policy == 'without_discount' &amp;&amp; line.price != line.price_lst">
                                <div class="pos-receipt-left-padding">
                                    <t t-esc="widget.format_currency_no_symbol(line.price_lst)" />
                                    ->
                                    <t t-esc="widget.format_currency_no_symbol(line.price)" />
                                </div>
                            </t>
                            <t t-elif='line.discount !== 0'>
                                <div class="pos-receipt-left-padding">
                                    <t t-if="pos.config.iface_tax_included === 'total'">
                                        <t t-esc="widget.format_currency_no_symbol(line.price_with_tax_before_discount)"/>
                                    </t>
                                    <t t-else="">
                                        <t t-esc="widget.format_currency_no_symbol(line.price)"/>
                                    </t>
                                </div>
                            </t>
                            <t t-if='line.discount !== 0'>
                                <div class="pos-receipt-left-padding">
                                    Discount: <t t-esc='line.discount' />%
                                </div>
                            </t>
                            <div class="pos-receipt-left-padding">
                                <t t-esc="Math.round(line.quantity * Math.pow(10, pos.dp['Product Unit of Measure'])) / Math.pow(10, pos.dp['Product Unit of Measure'])"/>
                                <t t-if='line.unit_name !== "Units"' t-esc='line.unit_name'/>
                                x
                                <t t-esc='widget.format_currency_no_symbol(line.price_display_one)' />
                                <span class="price_display pos-receipt-right-align">
                                    <t t-esc='widget.format_currency_no_symbol(line.price_display)'/>
                                </span>
                            </div>
                        </t>
                    </t>
                </div>

                <!-- Subtotal -->

                <t t-set='taxincluded' t-value='Math.abs(receipt.subtotal - receipt.total_with_tax) &lt;= 0.000001' />
                <t t-if='!taxincluded'>
                    <div class="pos-receipt-right-align">--------</div>
                    <br/>
                    <div>Subtotal<span t-esc='widget.format_currency(receipt.subtotal)' class="pos-receipt-right-align"/></div>
                    <t t-foreach='receipt.tax_details' t-as='tax'>
                        <div>
                            <t t-esc='tax.name' />
                            <span t-esc='widget.format_currency_no_symbol(tax.amount)' class="pos-receipt-right-align"/>
                        </div>
                    </t>
                </t>

                <!-- Total -->
                <div class="pos-receipt-right-align">--------</div>
                <br/>
                <div class="pos-receipt-amount">
                    TOTAL
                    <span t-esc='widget.format_currency(receipt.total_with_tax)' class="pos-receipt-right-align"/>
                </div>
                <br/><br/>

                <!-- Payment Lines -->

                <t t-foreach='paymentlines' t-as='line'>
                    <div>
                        <t t-esc='line.name' />
                        <span t-esc='widget.format_currency_no_symbol(line.get_amount())' class="pos-receipt-right-align"/>
                    </div>
                </t>
                <br/>

                <div class="pos-receipt-amount receipt-change">
                    CHANGE
                    <span t-esc='widget.format_currency(receipt.change)' class="pos-receipt-right-align"/>
                </div>
                <br/>

                <!-- Extra Payment Info -->

                <t t-if='receipt.total_discount'>
                    <div>
                        Discounts
                        <span t-esc='widget.format_currency(receipt.total_discount)' class="pos-receipt-right-align"/>
                    </div>
                </t>
                <t t-if='taxincluded'>
                    <t t-foreach='receipt.tax_details' t-as='tax'>
                        <div>
                            <t t-esc='tax.name' />
                            <span t-esc='widget.format_currency_no_symbol(tax.amount)' class="pos-receipt-right-align"/>
                        </div>
                    </t>
                    <div>
                        Total Taxes
                        <span t-esc='widget.format_currency(receipt.total_tax)' class="pos-receipt-right-align"/>
                    </div>
                </t>
                <div class='before-footer' >
                    <t t-if="order.get_giftcard().length &gt; 0">
                        <br />
                        <div>
                            <div class="pos-center-align" align="center"> Card Details </div>
                            <table>
                                <t t-foreach="order.get_giftcard()" t-as="giftcard">
                                    <tr>
                                        <t t-if="giftcard['giftcard_customer_name']">
                                            <td>Customer:</td>
                                            <td class="pos-right-align">
                                                <t t-esc="giftcard['giftcard_customer_name']" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <td>Card No.:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="giftcard['giftcard_card_no']" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Expire Date:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="giftcard['giftcard_expire_date']" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Card Balance:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="widget.format_currency(giftcard['giftcard_amount'])" />
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </div><br/>
                    </t>

                    <t t-if="order.get_recharge_giftcard().length &gt; 0">
                        <br />
                        <div>
                            <div class="pos-center-align" align="center"> Card Details </div>
                            <table>
                                <t t-foreach="order.get_recharge_giftcard()" t-as="recharge">
                                    <tr>
                                        <t t-if="recharge['customer_name']">
                                            <td>Customer:</td>
                                            <td class="pos-right-align">
                                                <t t-esc="recharge['customer_name']" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <td>Card No.:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="recharge['recharge_card_no']" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Total Card Balance:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="widget.format_currency(recharge['total_card_amount'])" />
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </div><br/>
                    </t>

                    <t t-if="order.get_redeem_giftcard().length &gt; 0">
                        <br />
                        <div>
                            <div class="pos-center-align" align="center"> Card Details </div>
                            <table>
                                <t t-foreach="order.get_redeem_giftcard()" t-as="redeem">
                                    <tr>
                                        <t t-if="redeem['customer_name']">
                                            <td>Customer:</td>
                                            <td class="pos-right-align">
                                                <t t-esc="redeem['customer_name']" />
                                            </td>
                                        </t>
                                    </tr>
                                    <tr>
                                        <td>Card No.:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="redeem['redeem_card']" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>Card Balance:</td>
                                        <td class="pos-right-align">
                                            <t t-esc="widget.format_currency(redeem['redeem_remaining'])" />
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </div><br/>
                    </t>
                    <div class="pos-center-align" align="center">
                        <img style="width:300px;height:100px;" t-att-src='get_barcode_image' alt="Logo"/>
                    </div>
                </div>

                <!-- Footer -->
                <div t-if='receipt.footer_html'  class="pos-receipt-center-align">
                    <t t-raw='receipt.footer_html'/>
                </div>

                <div t-if='!receipt.footer_html and receipt.footer'  class="pos-receipt-center-align">
                    <br/>
                    <t t-esc='receipt.footer'/>
                    <br/>
                    <br/>
                </div>

                <div class='after-footer'>
                    <t t-foreach='paymentlines' t-as='line'>
                        <t t-if='line.ticket'>
                            <br />
                            <div class="pos-payment-terminal-receipt">
                                <t t-raw='line.ticket'/>
                            </div>
                        </t>
                    </t>
                </div>

                <br/>
                <div class="pos-receipt-order-data">
                    <div><t t-esc='receipt.name' /></div>
                    <div><t t-esc='receipt.date.localestring' /></div>
                </div>
            </t>
        </div>
    </t>

    <t t-name="FreeTicket">
    <div class="pos-receipt">
        <div class="pos_free_ticket">
            <div class="pos-center-align"> Card Details </div>
                <hr/>
                <div class="pos-center-align" align="center">
                 <table align="center">
                     <tr>
                        <t t-if="order.get_free_data().giftcard_customer_name">
                             <td>Customer:</td>
                             <td class="pos-right-align">
                                 <t t-esc="order.get_free_data().giftcard_customer_name" />
                             </td>
                        </t>
                     </tr>
                     <tr>
                         <td>Card No.:</td>
                         <td class="pos-right-align">
                             <t t-esc="order.get_free_data().giftcard_card_no" />
                         </td>
                     </tr>
                     <tr>
                         <td>Card Amount:</td>
                         <td class="pos-right-align">
                             <t t-esc="widget.format_currency(order.get_free_data().giftcard_amount)" />
                         </td>
                     </tr>
                     <tr>
                         <td>Expire Date:</td>
                         <td class="pos-right-align">
                             <t t-esc="order.get_free_data().giftcard_expire_date" />
                         </td>
                     </tr>
                 </table>
                </div>
                <br/>
                <div class="pos-center-align" align="center">
                    <img style="width:300px;height:100px;" id="test-barcode"/>
                </div>
            </div>
        </div>
    </t>
</templates>
